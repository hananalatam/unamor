---
const faqs = [
  {
    question: "¿Qué es el mindfulness transpersonal?",
    answer: "El mindfulness transpersonal es una práctica que integra la atención plena tradicional con una perspectiva que reconoce dimensiones más amplias de la consciencia y nuestra experiencia espiritual. No se limita solo a reducir el estrés, sino que busca facilitar una conexión profunda con nuestra esencia y el sentido de la vida."
  },
  {
    question: "¿Necesito experiencia previa en meditación?",
    answer: "No, nuestros programas y talleres están diseñados para personas de todos los niveles. Si nunca has meditado, te guiaremos paso a paso. Si ya tienes experiencia, podrás profundizar en tu práctica desde una perspectiva más amplia y amorosa."
  },
  {
    question: "¿Cómo funcionan los programas de 21 días?",
    answer: "Los programas de 21 días son experiencias online con seguimiento personalizado. Incluyen prácticas diarias, material de reflexión, meditaciones guiadas, y sesiones de acompañamiento grupal e individual. Están diseñados para crear hábitos conscientes a lo largo de tres semanas, tiempo que la neurociencia reconoce como necesario para establecer nuevos patrones."
  },
  {
    question: "¿Los talleres son presenciales u online?",
    answer: "Ofrecemos ambas modalidades. Los talleres online permiten participar desde cualquier lugar, mientras que los presenciales (principalmente en Colombia) ofrecen la riqueza del contacto directo. Los retiros son experiencias inmersivas de varios días en entornos naturales."
  },
  {
    question: "¿El acompañamiento individual es terapia psicológica?",
    answer: "No. Si bien incorporamos elementos de la psicología transpersonal, nuestro acompañamiento no sustituye una terapia psicológica o psiquiátrica. Es un espacio de presencia, autoindagación y prácticas contemplativas que complementa otros procesos, pero no reemplaza tratamientos específicos para condiciones de salud mental que requieren atención especializada."
  },
  {
    question: "¿Cuánto tiempo toma ver resultados?",
    answer: "Cada persona tiene su ritmo. Muchos participantes reportan cambios significativos desde las primeras semanas de práctica constante: mayor calma, mejor gestión de emociones difíciles y más claridad. Sin embargo, entendemos esto como un camino continuo de autoconocimiento, no como una solución rápida con punto final."
  }
];
---

<section class="py-16 md:py-24">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl md:text-4xl font-heading font-medium text-center mb-4">Preguntas Frecuentes</h2>
    <p class="text-center text-body-500 max-w-3xl mx-auto mb-16">Resolvemos tus dudas sobre nuestros servicios y metodología</p>
    
    <div class="max-w-4xl mx-auto">
      <div class="space-y-6">
        {faqs.map((faq, index) => (
          <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <button 
              id={`faq-button-${index}`}
              class="faq-button w-full flex justify-between items-center p-6 text-left font-heading text-lg font-medium focus:outline-none focus:ring-2 focus:ring-teal-900 focus:ring-inset"
              aria-expanded="false"
              aria-controls={`faq-answer-${index}`}
            >
              {faq.question}
              <svg class="w-6 h-6 transform transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div 
              id={`faq-answer-${index}`}
              class="faq-answer hidden px-6 pb-6 text-body-500"
              aria-hidden="true"
            >
              <p>{faq.answer}</p>
            </div>
          </div>
        ))}
      </div>
      
      <div class="text-center mt-12">
        <p class="mb-6 text-body-600">¿Tienes más preguntas? No dudes en contactarnos</p>
        <button class="whatsapp-btn inline-flex items-center bg-green-500 hover:bg-green-600 text-white font-medium py-3 px-6 rounded-md transition-colors duration-300 ease-in-out">
          <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg>
          Pregúntanos directamente
        </button>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('astro:page-load', () => {
    // Toggle FAQ answers
    const faqButtons = document.querySelectorAll('.faq-button');
    
    faqButtons.forEach(button => {
        button.addEventListener('click', () => {
        const isExpanded = button.getAttribute('aria-expanded') === 'true';
        const answerId = button.getAttribute('aria-controls');
        const answerElement = document.getElementById(answerId || '');
        const icon = button.querySelector('svg');
        
        if (isExpanded) {
  button.setAttribute('aria-expanded', 'false');
  if (answerElement) {
    answerElement.classList.add('hidden');
    answerElement.setAttribute('aria-hidden', 'true');
    if (icon) icon.classList.remove('rotate-180');
  }
} else {
  button.setAttribute('aria-expanded', 'true');
  if (answerElement) {
    answerElement.classList.remove('hidden');
    answerElement.setAttribute('aria-hidden', 'false');
    if (icon) icon.classList.add('rotate-180');
  }
}
      });
    });
  });
</script>